<h1 id="v1-interactive-game-competition-mode-1">1v1 Interactive Game Competition (mode #1)</h1>
<h2 id="player-matching">Player Matching</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-zB15AF6QPoCdu48j" height="100%" width="100%" style="max-width:850px;" viewBox="-50 -10 850 606"><g></g><g><line id="actor508" x1="75" y1="5" x2="75" y2="595" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor509" x1="275" y1="5" x2="275" y2="595" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">Match Engine</tspan></text></g><g><line id="actor510" x1="475" y1="5" x2="475" y2="595" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">Game Server</tspan></text></g><g><line id="actor511" x1="675" y1="5" x2="675" y2="595" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">createRoom()</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="175" y="128" class="messageText" style="text-anchor: middle;">createRoomResponse()</text><line x1="275" y1="135" x2="75" y2="135" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="400" y="145" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="169" fill="black" class="noteText"><tspan x="416" fill="black">onCreateRoom()</tspan></text></g><g><text x="475" y="210" class="messageText" style="text-anchor: middle;">joinRoom()</text><line x1="675" y1="217" x2="275" y2="217" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="475" y="245" class="messageText" style="text-anchor: middle;">joinRoomResponse()</text><line x1="275" y1="252" x2="675" y2="252" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="400" y="262" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="286" fill="black" class="noteText"><tspan x="416" fill="black">onJoinRoom()</tspan></text></g><g><rect x="0" y="309" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-4" y="333" fill="black" class="noteText"><tspan x="16" fill="black">onJoinRoom()</tspan></text></g><g><text x="175" y="374" class="messageText" style="text-anchor: middle;">joinOver()</text><line x1="75" y1="381" x2="275" y2="381" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="175" y="409" class="messageText" style="text-anchor: middle;">joinOverResponse()</text><line x1="275" y1="416" x2="75" y2="416" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="600" y="426" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="596" y="450" fill="black" class="noteText"><tspan x="616" fill="black">onJoinOver()</tspan></text></g><g><rect x="400" y="473" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="497" fill="black" class="noteText"><tspan x="416" fill="black">onJoinOver()</tspan></text></g><g><rect x="0" y="530" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="562.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="530" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="562.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">Match Engine</tspan></text></g><g><rect x="400" y="530" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="562.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">Game Server</tspan></text></g><g><rect x="600" y="530" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="562.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">P2</tspan></text></g></svg></div>
<h2 id="start-contest">Start Contest</h2>
<p>Players must receive the conditional payment from the opponent before starting the game. This could be implemented via conditional payment + game server coordination (as illustrated below). Alternatively, it could be implemented in a completely distributed manner via conditional atomic exchange semantics.</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-eKyK282TLePacaJ8" height="100%" width="100%" style="max-width:650px;" viewBox="-50 -10 650 559"><g></g><g><line id="actor512" x1="75" y1="5" x2="75" y2="548" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor513" x1="275" y1="5" x2="275" y2="548" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g><g><line id="actor514" x1="475" y1="5" x2="475" y2="548" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">Game Server</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">sendCondPay()</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="200" y="110" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="134" fill="black" class="noteText"><tspan x="216" fill="black">onReceivePay()</tspan></text></g><g><text x="375" y="175" class="messageText" style="text-anchor: middle;">confirmPayment</text><line x1="275" y1="182" x2="475" y2="182" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="175" y="210" class="messageText" style="text-anchor: middle;">sendCondPay()</text><line x1="275" y1="217" x2="75" y2="217" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="227" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-4" y="251" fill="black" class="noteText"><tspan x="16" fill="black">onReceivePay()</tspan></text></g><g><text x="275" y="292" class="messageText" style="text-anchor: middle;">confirmPayment</text><line x1="75" y1="299" x2="475" y2="299" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="275" y="327" class="messageText" style="text-anchor: middle;">startContest()</text><line x1="475" y1="334" x2="75" y2="334" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="344" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-4" y="368" fill="black" class="noteText"><tspan x="16" fill="black">onContestStarted()</tspan></text></g><g><text x="375" y="409" class="messageText" style="text-anchor: middle;">startContest()</text><line x1="475" y1="416" x2="275" y2="416" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="200" y="426" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="450" fill="black" class="noteText"><tspan x="216" fill="black">onContestStarted()</tspan></text></g><g><rect x="0" y="483" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="515.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="483" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="515.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g><g><rect x="400" y="483" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="515.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">Game Server</tspan></text></g></svg></div>
<h2 id="game-initialization">Game Initialization</h2>
<p>This is game-specific logic implemented on the game server, which is used to sync global states across the two players.</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-IB1yRuSEK9IkwLjz" height="100%" width="100%" style="max-width:650px;" viewBox="-50 -10 650 325"><g></g><g><line id="actor515" x1="75" y1="5" x2="75" y2="314" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">Game Server</tspan></text></g><g><line id="actor516" x1="275" y1="5" x2="275" y2="314" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P1</tspan></text></g><g><line id="actor517" x1="475" y1="5" x2="475" y2="314" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">pushEvent(BLACK_STONE)</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="200" y="110" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="134" fill="black" class="noteText"><tspan x="216" fill="black">onReceiveEvent()</tspan></text></g><g><text x="275" y="175" class="messageText" style="text-anchor: middle;">pushEvent(BLACK_STONE)</text><line x1="75" y1="182" x2="475" y2="182" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="400" y="192" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="216" fill="black" class="noteText"><tspan x="416" fill="black">onReceiveEvent()</tspan></text></g><g><rect x="0" y="249" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="281.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">Game Server</tspan></text></g><g><rect x="200" y="249" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="281.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P1</tspan></text></g><g><rect x="400" y="249" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="281.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">P2</tspan></text></g></svg></div>
<h2 id="game-state-sync">Game State Sync</h2>
<h3 id="cooperative-case">Cooperative Case</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-IjslvFFK4nWMPWYW" height="100%" width="100%" style="max-width:550px;" viewBox="-150 -10 550 342"><g></g><g><line id="actor518" x1="75" y1="5" x2="75" y2="331" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor519" x1="275" y1="5" x2="275" y2="331" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><rect x="-100" y="75" fill="#EDF2AE" stroke="#666" width="150" height="54" rx="0" ry="0" class="note"></rect><text x="-104" y="99" fill="black" class="noteText"><tspan x="-84" fill="black">Suppose P1 makes </tspan></text><text x="-104" y="116" fill="black" class="noteText"><tspan x="-84" fill="black"> a move</tspan></text></g><g><text x="175" y="157" class="messageText" style="text-anchor: middle;">signState() + sendState()</text><line x1="75" y1="164" x2="275" y2="164" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="200" y="174" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="198" fill="black" class="noteText"><tspan x="216" fill="black">validate event? yes</tspan></text></g><g><text x="175" y="239" class="messageText" style="text-anchor: middle;">signAndAckState()</text><line x1="275" y1="246" x2="75" y2="246" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="266" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="298.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="266" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="298.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g></svg></div>
<h3 id="cheating-case">Cheating Case</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-uvE1aMJMvUE5y47m" height="100%" width="100%" style="max-width:550px;" viewBox="-150 -10 550 354"><g></g><g><line id="actor520" x1="75" y1="5" x2="75" y2="343" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor521" x1="275" y1="5" x2="275" y2="343" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><rect x="-100" y="75" fill="#EDF2AE" stroke="#666" width="150" height="54" rx="0" ry="0" class="note"></rect><text x="-104" y="99" fill="black" class="noteText"><tspan x="-84" fill="black">Suppose P1 makes </tspan></text><text x="-104" y="116" fill="black" class="noteText"><tspan x="-84" fill="black"> a move</tspan></text></g><g><text x="175" y="157" class="messageText" style="text-anchor: middle;">signState() + sendState()</text><line x1="75" y1="164" x2="275" y2="164" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="200" y="174" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="198" fill="black" class="noteText"><tspan x="216" fill="black">validate event? no</tspan></text></g><g><rect x="200" y="221" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="196" y="245" fill="black" class="noteText"><tspan x="216" fill="black">disputeInvalidGame()</tspan></text></g><g><rect x="0" y="278" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="310.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="278" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="310.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g></svg></div>
<h2 id="end-game">End Game</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-3Ym0lWTCmw7C4shg" height="100%" width="100%" style="max-width:550px;" viewBox="-150 -10 550 312"><g></g><g><line id="actor522" x1="75" y1="5" x2="75" y2="301" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor523" x1="275" y1="5" x2="275" y2="301" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><rect x="-100" y="75" fill="#EDF2AE" stroke="#666" width="150" height="71" rx="0" ry="0" class="note"></rect><text x="-104" y="99" fill="black" class="noteText"><tspan x="-84" fill="black">Game ends and </tspan></text><text x="-104" y="116" fill="black" class="noteText"><tspan x="-84" fill="black"> both players have</tspan></text><text x="-104" y="133" fill="black" class="noteText"><tspan x="-84" fill="black"> co-signed game state</tspan></text></g><g><text x="175" y="174" class="messageText" style="text-anchor: middle;">resolveCondPay()</text><line x1="75" y1="181" x2="275" y2="181" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="175" y="209" class="messageText" style="text-anchor: middle;">resolveCondPay()</text><line x1="275" y1="216" x2="75" y2="216" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="236" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="268.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="236" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="268.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">P2</tspan></text></g></svg></div>
<h2 id="player-offline">Player Offline</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-ICfrezN1p24e9cs9" height="100%" width="100%" style="max-width:650px;" viewBox="-50 -10 650 512"><g></g><g><line id="actor524" x1="75" y1="5" x2="75" y2="501" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><line id="actor525" x1="275" y1="5" x2="275" y2="501" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">Game Server</tspan></text></g><g><line id="actor526" x1="475" y1="5" x2="475" y2="501" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">P2</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><rect x="0" y="75" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-4" y="99" fill="black" class="noteText"><tspan x="16" fill="black">P1 offline in game</tspan></text></g><g><rect x="200" y="122" fill="#EDF2AE" stroke="#666" width="150" height="54" rx="0" ry="0" class="note"></rect><text x="196" y="146" fill="black" class="noteText"><tspan x="216" fill="black">onUserStatus</tspan></text><text x="196" y="163" fill="black" class="noteText"><tspan x="216" fill="black">(OFFLINE)</tspan></text></g><g><text x="375" y="204" class="messageText" style="text-anchor: middle;">plzDisputeOfflineOppent()</text><line x1="275" y1="211" x2="475" y2="211" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="400" y="221" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="245" fill="black" class="noteText"><tspan x="416" fill="black">onOfflineOppent()</tspan></text></g><g><rect x="400" y="268" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="396" y="292" fill="black" class="noteText"><tspan x="416" fill="black">disputeOfflineOppnent()</tspan></text></g><g><rect x="0" y="315" fill="#EDF2AE" stroke="#666" width="150" height="54" rx="0" ry="0" class="note"></rect><text x="-4" y="339" fill="black" class="noteText"><tspan x="16" fill="black">back to online </tspan></text><text x="-4" y="356" fill="black" class="noteText"><tspan x="16" fill="black"> (after challenge window)</tspan></text></g><g><rect x="0" y="379" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-4" y="403" fill="black" class="noteText"><tspan x="16" fill="black">onGameOnchainStatus()</tspan></text></g><g><rect x="0" y="436" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="468.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">P1</tspan></text></g><g><rect x="200" y="436" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="468.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">Game Server</tspan></text></g><g><rect x="400" y="436" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="468.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">P2</tspan></text></g></svg></div>

